# 2.1 输入输出进阶

## 输入输出控制符



* printf() 和 scanf() 函数的==第一个参数必须是一个字符串==，输出的格式、内容以及数据类型、个数均由字符串确定。使用 % 开头的控制符指定输入要输入或输出的数据的类型以及格式 

![image-20201030161250875](week2.assets/image-20201030161250875.png)

## 用 scanf 读入不同类型的变量

* 如果指定输入字符型，则空格也会被当作字符读入

* 如果指定输入其他类型的数据，会跳过空格

* 如果在输入中有scanf中出现的非控制字符，则这些字符会被跳过
  * 即使指定输入字符型，也会跳过scanf中出现的非控制字符

## 控制 printf 输出整数的宽度

```c++
int n = 123;
printf("%05d", n);
// 输出为00123
```

## 用 C++ 的 cout 进行输出

* 用多个 << 来输出多个数据，不需要用 % + 控制符说明类型

* 用endl进行换行，不需要用转义 \n

```c++
#include <iostream>
using namespace std;
int main(){
    int n = 5;
    double f = 3.9;
    char c = 'a';
    cout << "n = "  << n << ", f = " << f << endl; // endl换行
    cout << 123 << ", c = " << c;
    return 0;
}
```

## 用 C++ 的 cin 进行输入

* 用 >> 进行输入，一般用空格隔开；在一行中可以用多个 >>
* 输入与定义的变量类型相同即可，不需要用控制语句
* 这种情况下直接输入空格和回车不会被读取，即使是字符类型的变量



## 用 cin 读入所有输入的字符，包括空格，回车

* 使用 cin.get()，返回值是int类型，即读入字符的ASCII码
* 使用(char)c 语句将ASCII转化为字符输出

```c++
#include <iostream>
using namespace std;
int main(){
    int c;
    while((c = cin.get()) != EOF){
        cout << (char)c;
    }
    return 0;
}
```

* EOF是输入函数运行出错时的一个返回值，如输入数据多于存放的变量，并不是停止输入的标志



## 用cin, cout 和scanf, printf

* cin, cout速度比 scanf, printf慢，输入输出数据量大时用后者
* 一个程序里面不要同时用 cin和 scanf，不要同时用 cout和 printf



# 算术运算符和算术表达式

## 赋值运算符

* 赋值运算符用于给变量赋值，常用有以下六种
  * =
  * +=
  * -=
  * *=
  * /=
  * %= （模，取余)
* 用 a += b替换 a = a + b更简洁其速度更快！
* 表达式：变量，常量；变量常量与运算符结合都是表达式
* a = b 的表达式的值就是b的值

## 算术运算符

* 七种算术运算符，用于数值运算
* 运算符 + 操作数构成表达式
  * +
  * -
  * *
  * /
  * %
  * ++
  * --

* a + b, a - b, a * b 这三个表达式的值，就是a和b做算术运算的结果。表达式的值的类型，以操作数中精度高的类型为准。
* 算术运算可能导致溢出，整型计算结果的溢出部分直接被丢弃，丢弃的时候从高位(左边)开始；浮点数的溢出结果不易预测
* 解决溢出的办法：1、尽量使用更高精度的数据类型；2、高精度计算，使用数组



## 除法运算

* 除法的计算结果，类型和操作数中精度高的类型相同
* 两个整数做除法，结果是商，余数忽略

（type）a :将a转换为 type 类型的值



## 模运算

* 求余数的运算符 % 也称为模运算符。它是双目运算符，两个操作数都是整数类型的
* 除数不能是0

## 自增运算符 ++

* 单目运算符，操作数为整数类型变量或实数型变量
* 有前置和后置两种用法
* 前置用法：
  * ++a; 将a的值加1后再返回，返回值为a加1后的值
  * a++；先返回a的值再将a+1，返回值为a的值
* 在赋值语句中要赋给左值的值是==表达式的返回值==



## 自减运算符 --

* 与 ++ 用法相同



# 2.3 关系运算符和逻辑表达式

## 关系运算符

* 六种关系运算符用于数值的比较
  * 相等 ==
  * 不等 !=
  * 大于 >
  * 小于 <
  * 大于等于 >=
  * 小于等于 <=
* 比较的结果是 bool 类型。



## bool 类型

* bool 类型变量只有两种取值，true或false
* false等价于0，true等价于非0整型值



## 逻辑运算符和逻辑表达式



* <font color="purple">   逻辑运算符用于表达式的逻辑操作，有与(&&)、或(||)、非(!)三种。操作的结果是true或false</font>

* 与 <font color="red">&&</font>
  * exp1 && exp2 当且仅当 exp1和exp2的值都为真(或非0)时，结果为 true
* 或 <font color="red">||</font>
  * exp1 || exp2 当且仅当 exp1和exp2的值都为假(或0)时，结果为 false
* 非 <font color="red">！</font>

* 逻辑表达式是短路计算的，即对逻辑表达式的计算，在整个表达式的值已经能够断定的时候即会停止

   ```c++
/* 短路计算演示 */
#include <iostream>
using namespace std;
int main(){
    int a = 0,b = 1;
    bool n = (a ++) && (b ++);  // b ++ 不被计算，短路计算
    cout << a << "," << b << endl; // 输出 1，1
    n = a ++ && b ++; // a ++ 和 b ++ 都要计算
    cout << a << "," << b << endl; // 输出 2, 2
    n = a ++ || b ++ ; // b ++ 不被计算
    cout << a << "," << b << endl; // 输出 3，2
    return 0;
}
   ```



# 强制类型转换运算符以及运算符优先级

## 强制类型转换运算符

* 类型名本身就是一个运算符，叫“强制类型转换运算符”，用于将操作数转换为指定类型

```c++
double f = 9.14;
int n = (int) f;   //直接去尾，n = 9
f = n / 2;         // f = 4.0，结果不精确
f = double(n) / 2; // (double) n 与 double(n) 效果相同
```



## 部分运算符的优先级

![image-20201030210032022](week2.assets/image-20201030210032022.png)

* 可以用 () 改变运算顺序
* 两个常用的顺序记住：
  * 乘除高于加减
  * 与高于或
* a+++b 等价于 (a ++) + b

* 浮点数就用double，不要用float

